SHOW GRANTS FOR 'sql12722597'@'%';
GRANT ALL PRIVILEGES ON freedb_college.* TO 'sql12722597'@'%';
FLUSH PRIVILEGES;
use sql12722597;

CREATE TABLE `College` (
  `CollegeID` int NOT NULL AUTO_INCREMENT,
  `college_code` varchar(20) DEFAULT NULL,
  `college_name` varchar(40) NOT NULL,
  `college_link` varchar(40) NOT NULL,
  PRIMARY KEY (`CollegeID`),
  KEY `idx_College_code` (`college_code`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE `College` (
   `CollegeID` int NOT NULL AUTO_INCREMENT,
   `college_code` varchar(20) DEFAULT NULL,
   `college_name` varchar(40) NOT NULL,
   `college_link` varchar(40) NOT NULL,
   PRIMARY KEY (`CollegeID`),
   KEY `idx_College_code` (`college_code`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
INSERT INTO `College` VALUES (1,'MGVP','MGVP,LONI','www.MGVP.com');

CREATE TABLE `Student` (
  `student_id` int NOT NULL AUTO_INCREMENT,
  `studentid` varchar(40) DEFAULT NULL,
  `profile_img` mediumblob,
  `password` varchar(50) DEFAULT NULL,
  `roll_no` varchar(20) DEFAULT NULL,
  `std` varchar(10) DEFAULT NULL,
  `Name` varchar(50) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `mobile` varchar(15) DEFAULT NULL,
  `college_id` int DEFAULT NULL,
  `parent_id` varchar(10) DEFAULT NULL,
  `division` varchar(10) DEFAULT NULL,
  `stud_dob` date DEFAULT NULL,
  PRIMARY KEY (`student_id`),
  KEY `college_id` (`college_id`),
  KEY `idx_sid` (`studentid`),
  KEY `idx_parent_id` (`parent_id`),
  CONSTRAINT `Student_ibfk_2` FOREIGN KEY (`college_id`) REFERENCES `College` (`CollegeID`)
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

CREATE TABLE `addreason` (
  `id` int NOT NULL AUTO_INCREMENT,
  `date` date DEFAULT NULL,
  `reason` varchar(255) DEFAULT NULL,
  `student_id` varchar(40) NOT NULL,
  `college_id` int NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_college_id` FOREIGN KEY (`college_id`) REFERENCES `College` (`CollegeID`)
  ON DELETE CASCADE
  ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE `holidays` (
  `id` int NOT NULL AUTO_INCREMENT,
  `date` date NOT NULL,
  `description` varchar(255) NOT NULL,
  `college_id` int NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_holidays_college_id` FOREIGN KEY (`college_id`) REFERENCES `College` (`CollegeID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

INSERT INTO `holidays` (`date`, `description`, `college_id`) VALUES
('2024-07-14', 'Independence Day', 1),
('2024-12-25', 'Christmas Day', 1),
('2024-01-01', 'New Year\'s Day', 1);

CREATE TABLE `Classes` (
  `class_id` int NOT NULL AUTO_INCREMENT,
  `standard` varchar(50) NOT NULL,
  `division` varchar(50) NOT NULL,
  `college_id` int NOT NULL,
  PRIMARY KEY (`class_id`),
  KEY `college_id` (`college_id`),
  CONSTRAINT `Classes_ibfk_1` FOREIGN KEY (`college_id`) REFERENCES `College` (`CollegeID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=52 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
INSERT INTO `Classes` VALUES (49,'10','B',1),(50,'10','A',1),(51,'10','C',1);

CREATE TABLE `classteachers` (
  `classteachers_id` int NOT NULL AUTO_INCREMENT,
  `teacher_id` varchar(30) DEFAULT NULL,
  `standard` varchar(50) DEFAULT NULL,
  `division` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`classteachers_id`),
  KEY `teacher_id` (`teacher_id`),
  CONSTRAINT `classteachers_ibfk_1` FOREIGN KEY (`teacher_id`) REFERENCES `teacher` (`teacher_code`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

CREATE TABLE `teacher` (
  `teacher_id` int NOT NULL AUTO_INCREMENT,
  `teacher_code` varchar(20) DEFAULT NULL,
  `tname` varchar(50) DEFAULT NULL,
  `tpassword` varchar(50) DEFAULT NULL,
  `mobileno` varchar(15) DEFAULT NULL,
  `teacher_email` varchar(50) DEFAULT NULL,
  `teacher_profile` blob,
  `date_of_birth` date DEFAULT NULL,
  `teacher_education` varchar(20) DEFAULT NULL,
  `college_code` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`teacher_id`),
  KEY `idx_teacher_code` (`teacher_code`),
  KEY `fk_college_code` (`college_code`),
  CONSTRAINT `fk_college_code` FOREIGN KEY (`college_code`) REFERENCES `College` (`college_code`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
INSERT INTO `teacher` VALUES (1,'T1','pawar','pp','785646636563','p@gmail.com',_binary 'Â‰PNG\r\n\Z\n\0\0\0\rIHDR\0\0\0E\0\0\0X\0\0\0Â£\Ã…:l\0\0\0	pHYs\0\0\0\0\0ÂšÂœ\0\0\0sRGB\0Â®\Ã\Ã©\0\0\0gAMA\0\0Â±ÂÃ¼a\0\0[IDATx\Ã­Âœ}LgÃ‡Â¿}\Ã£\ÃZD^TD \"Âˆ2^\Ã†\Ã‚\Ã‚\Ã‚2CÂ´\Ã‹`Ã±5\Ã†uoÂ‰uÂˆsÂ’Ã¶N\Ã§\Ã¢\Ã¨Aq33\ÃŠ\"F7Â“G\\tÂ‰nÂ„aÂ€Â’\Ã‰\Ã¤MÂ™	8hiiÂ»Â»K4\Ã­xZÃ›Â³\Ã§\Ã™Ã³Ã¹ÂÂ‡\Ã«\Ã=\Ã—\Ã}\Ã®\Ã®y~w\Ã\Ã#ÂƒÃ°ÃˆÂ™Â´3PÂ“XÂ \nÂÂ›Â›M\Ã®\Ã‰\Ã‚2\Ã˜L\Ã£#]WÃÂ£ÃºC\ÃŒ\Ã¨LÂ²A`dÂ¥\Ã‚?\Ã¬ll\Ã–oÂ‡\Ã†-\Ã§Ã½s6Â«Ã·\ÃšÂ£Â¯uÃÂ§\ÃŒ\Ã¨\Ã§ÂÃ¶\ZÂ´Â‘?dÂ„Â¬Ã€\Ã“Ã¸Â—\Ã‰Â˜ÂµÃ¸#LÂŸÂ“Â»Â‹\rÂƒÃ€x\Ã«HQ\Ã‹\Ã¥Âª\Ãƒ6Â™\\\Ã­0\Ã•fKW\Ã~=ZÂ®Â€70ÂÃœÂ„qÂ¸Â«2\Ã™Â‡ÂŸÂ±Lt1ÂƒÃ°ÃÂ’=#~Â•>>\Ã§[ÂˆÃ\ÃŸ\Ã§Â´ÃºÂ±ÃÂ«1Ã°J&]e\Ã’<BÂŸÂ†.Â±Y\ÃQ\ÃŒ\Ã Â¾Â‹Ã¼Ã‹Â¤&Ã•Â“fÂ²R\Ã’\Ã Ã³\Ã˜TÃŒÂ¿p`Ã³Ã¾ÃŒÂ¤L*cÂ’\Ã‘~Â¦\Ã’~$XÂ©BÂ°BO1[Â­Â›Ã¿ Ã°\Ã \Ã£Ã»Ã£Â³Â™\Ã¡;Ã¶Â¤dÂ‡\ÃÃw/Â½OÂ¹cEÃ¾\ÃQÂˆ\Ã…\Ã¬Â€\\\ÃŒxÂ2iÂ³\"Ã·ÂSIÃ¿Â†Â¦;HÂ‘1*Â¹\Ã§Ã…ÂƒÂŸ\\\Ã”\"Â…Âƒ\ÃzÃ‹ÂœÂ„Â\Ã¢o\ÃsÂˆ\Ã’Ã™ÂŒ!Â³ÂÃ€\Ã†,&Ã€\ÃªÃ‘Â°YÃ°Ã›Â \Ã\Ã­\Ã¬Â¯hf!P\Ã¡tÃ“ÂK)\Ã¯Ã¸Â‹7Â­Chh(\Ãœ!\Ã®\Ã¤YXL\ÃƒPÃ¸MÃ‡Â³dl\Ã O,~uÃº\ÃŸ\Ãˆq+KKÂ´\Ã\Ã„Ã²Â¨Â§yÂ”Â®Â¾`\Ã£Ã†ÂÂˆÂÂÂ‡;ÃŒÂŸ?\Ã¬Ã¼Ã‘Â™Â»!Â—+Ã±,Â˜ÂœxÂ€\Ã‘ÃÂ½Ã¸\ÃªÂ—\Ã¯\Ã^\ÃÃ“Â§O3Rj\\\Ã¦Ã±\Ãš\Ãš\Ã§\Ã¥\Ã¥aÂ·^\Ã7E0Ã¹gA8\Ã‚]oZa\Z\Ã«Âƒ\Ã†ÃšÂˆÂŸ~Â¬r[ÂˆÂ»xuÂ—aÃ½ÃºÃµ8Ã¾<nÃÂº\Ã…\\ÃºsÂ•Â¯P(Â°p\Ã¡k\Ãj?ÂƒxÃ½8		ÃÂš5k\Ã \Ã‹\Ã*Â™\0Â•BÂ€J!Ã€[JGGt:\Ãª\Ã«\Ã«!5xÂ´Â½Â½Â½HOOÂ‡Ã``nÂ‚\Ã‰PWW\Ã‡U\Ã‰RÂÂ—Â”+WÂ®pBX\Ã˜jÂ·Â©Â©iÂŠÂ”\Ã«Ã—Â¯Â£Â¼Â¼bQUUÂ…ÂˆÂˆÃ°ÂÂ—Â”Ã¼Ã¼|\Ã„\Ã†\Ã†rGL@@\0Ã–Â®];%ORR=Ãº\"Â¼Â¤\Ã£Ã²\Ã¥\Ã‹\\yÂ’Â™Â™Â‰Â”Â”H	\ÃÃ[LLÃJZ%Â RP)Â¨Â¼Â¥Â”Â•Â•aÃÂ‚XÂ¹r%\ÃŒf3Â¤Â¯ÃšÂ§Â±Â±Ã»Ã¶\Ã­\Ã£>wuuÂ¡ÂºÂº\Z%%%yÂ†Â†Â†\Ã\Ã\Ã\0Â±\Ãˆ\Ã\Ã\Ã¥B>Ã°Â’266Ã¶\Ã„<\Ã¬\Ã‘3<<Â±0Â™L\ÃV\ÃŠÃ’Â¥KÂ±u\Ã«V9rÂ„\Ã\n\n\nÂ¦Ã¤Â‰ÂŒÂŒÃ„Â†\r\Ã Â‹Ã°.S<Â£\Ã‘ÃˆÂJ|Â¯1ÂWÂÂªÃ¶Â‘?-ÂƒB@Â«dT\n*Â…\0o)lÂ•{\Ã©\Ã’%Ã´Ã·Ã·CjÃ°Â’\Ã‚\Ã†\Ã‰\Ã‰\Ã‰XÂ²d	-ZÂ„Â¶Â¶6H	^qÃŠÂ…\Ã\Ã\Ã\Ã}Ã„Â™3gÂÂšÂšÃªÂÂ‡Â½+W\\\\Â±Â¨Â¬Â¬\Ã¤ÃÂœ\ÃŠKJFFT*\Ã•\Ã£kÂÂ´Â´Â©Â\ÃEGG\Ã£\Ã¨Ã‘Â£Â‹Ã°pOÂsÂ„Â—vÂ°\Ã¥Imm-rrrÂˆÃÂ¤JÂ¥\Ã’gÂƒ:ÃÂ·#Â³Â³Â³Â¹$EhÂ•LÂ€J!@Â¥Â RP){bÂmc~\Ã”\Ã,ls.\ÃŸ[Â‚I\Ã©\Ã¬\Ã¬\Ã„Ã¾Ã½Ã»!\Ã£Ã·Â¾Â”`Rq\Ã¬\Ã˜1Ã¸\"Â´L!@Â¥Â RP)Â¨T\n*Â…Â€`qJ__NÂœ8Â±(,,tÃ»]Â¥Ã¿#Â˜ÂFÂ­VÂ±\n\Ã¢ÃµÃ¶)Â‡`R\Ã˜Ã¶d_Â„Â–)Â¨T\n*Â…\0Â•BÂ€J!@Â¥Â RP)ÂœJ	Â+1>>Â©\Ã¡\Ã¯\Ã¯Â³\Ã•\Ã¢2ÂS)Ã³Â‚\Ã”\Ã¨\Ã©\Ã©Â\Ã”`\ÃŸS\Z0Â¹\Ã\Ã™NÂ¥\Ã„j$)%!!\Ã—F]\Ã¦q*%{F4Âš\Z!5\Ã”j5ÂŒÃ±QÂ°Âº\Ã¨Â‡ÃÂ©Â\ÃŠÂŠÂ–N\Ã®Ã±-Â©Â‘Â“Â§E\Ã­\Ã­kNÃ§Â»Â¬}Â–Â…Ã†Â Â¦Â¦RcÃ‹Â–-87qF\Ã«$qÂ¾K)\ÃšÃ°8\\Â¬>Â7n@JÂ°Â§\ÃÃ¶ÂŠÂ½8\Ã\Ã“LÂœÃ¿\Ã„8eGd\nÃ¶n/\Ã…ÃƒÂ‡!%VÂ¯^\rU~6Ã´Ã†Â‘)ÂI=QJÃ²Â´Â™XqWÂ†u\Ã‹WI.nÂ©\Ã\Ã©PÂ¼m\Ã›9Â“\Ãƒ\\nEÂ´Â™Âš(Â”Ã‚ÂÃ»rÂšÂ›Â›!\Ã˜\Ã‡5t:ÂÂªÂ´Â´Ã´kfÃ´Â“Â¸^R\Ã™NÂ“\Ã—MÃ‹Â˜2\Ã¤xÂšÃ³ÂLTÃ·Â¶Ã‚ÂÂ•ÂˆÃ·7Ã\ÃO\Ã„nÃŒÂ¼L{{;6o\Ã\ÃœgÂ±XÃ¶x$\Ã¥Cf\Ãª\Ã®uc\Ãœ2	_\Ã†\ÃŠlÃºÂ¡Â›Â­wF&\'*\Ã­&?\Ã u7Â†*\Ã¯\ÃÃµÃ½Ã¾\rÃ˜Â¾#OÃÂ¾vÂŸÂ‘Ra?Â-S:AqÂ€Â•Â²ÂŒI\Ã§@yÂŒ}\Ã¯tÂŸÂ„Ã¹\Ã®JÂÂ¡\Ã†[Â¦4\Ã©ÂÂ´\Ã™ÃÂ´ÂŸÃ¾\Ã \Ã\Ã‘ÃºQÂ\0\0\0\0IENDÂ®B`Â‚','2000-06-06','MBA','MGVP');

INSERT INTO `classteachers` VALUES (1,'T1','10','B');

CREATE TABLE `Parents` (
  `id` int NOT NULL AUTO_INCREMENT,
  `parent_id` varchar(40) DEFAULT NULL,
  `parentname` varchar(25) DEFAULT NULL,
  `pmobile_no` varchar(15) DEFAULT NULL,
  `password` varchar(20) DEFAULT NULL,
  `profilephoto` blob,
  `address` varchar(50) DEFAULT NULL,
  `birth_date` date DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `college_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `UNIQUE_PARENT_ID` (`parent_id`),
  KEY `idx_parent_id` (`parent_id`),
  KEY `idx_college_id` (`college_id`),
  CONSTRAINT `Parents_ibfk_1` FOREIGN KEY (`college_id`) REFERENCES `College` (`CollegeID`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
INSERT INTO `Parents` VALUES (1,'P001','John Doe','1234567890','password1','','123 Main St','1970-01-01','johndoe@example.com',1),(14,'P002','Jane Smith','0987654321','password2','','456 Elm St','1980-02-02','janesmith@example.com',1),(15,'P003','Robert Brown','1122334455','password3',NULL,'789 Oak St','1990-03-03','robertbrown@example.com',1);
CREATE TABLE `Subject` (
  `subject_code` int NOT NULL AUTO_INCREMENT,
  `subject_name` varchar(255) NOT NULL,
  `stand` varchar(10) NOT NULL,
  `division` varchar(10) NOT NULL,
  `subject_code_prefixed` varchar(20) DEFAULT NULL,
  `image` blob,
  PRIMARY KEY (`subject_code`),
  KEY `idx_subject_code_prefixed` (`subject_code_prefixed`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
CREATE TABLE `timetables` (
  `timetables_id` int NOT NULL AUTO_INCREMENT,
  `class_id` int NOT NULL,
  `teacher_id` varchar(30) NOT NULL,
  `scheduled_date` date NOT NULL,
  `scheduled_time` time NOT NULL,
  `college_id` int NOT NULL,
  `subject_code` varchar(20) NOT NULL,
  PRIMARY KEY (`timetables_id`),
  KEY `class_id` (`class_id`),
  KEY `teacher_id` (`teacher_id`),
  KEY `college_id` (`college_id`),
  KEY `subject_code` (`subject_code`),
  CONSTRAINT `timetables_ibfk_1` FOREIGN KEY (`class_id`) REFERENCES `Classes` (`class_id`),
  CONSTRAINT `timetables_ibfk_2` FOREIGN KEY (`teacher_id`) REFERENCES `teacher` (`teacher_code`),
  CONSTRAINT `timetables_ibfk_3` FOREIGN KEY (`college_id`) REFERENCES `College` (`CollegeID`),
  CONSTRAINT `timetables_ibfk_4` FOREIGN KEY (`subject_code`) REFERENCES `Subject` (`subject_code_prefixed`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
//////////////////
CREATE TABLE `Student` (
  `student_id` int NOT NULL AUTO_INCREMENT,
  `studentid` varchar(40) DEFAULT NULL,
  `profile_img` blob,
  `password` varchar(50) DEFAULT NULL,
  `roll_no` varchar(20) DEFAULT NULL,
  `std` varchar(10) DEFAULT NULL,
  `Name` varchar(50) DEFAULT NULL,
  `email` varchar(50) DEFAULT NULL,
  `mobile` varchar(15) DEFAULT NULL,
  `college_id` int DEFAULT NULL,
  `parent_id` varchar(10) DEFAULT NULL,
  `division` varchar(10) DEFAULT NULL,
  `stud_dob` date DEFAULT NULL,
  `fcm_token` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`student_id`),
  KEY `college_id` (`college_id`),
  KEY `idx_sid` (`studentid`),
  KEY `idx_parent_id` (`parent_id`),
  CONSTRAINT `Student_ibfk_1` FOREIGN KEY (`parent_id`) REFERENCES `Parents` (`parent_id`),
  CONSTRAINT `Student_ibfk_2` FOREIGN KEY (`college_id`) REFERENCES `College` (`CollegeID`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
CREATE TABLE `addreason` (
  `id` int NOT NULL AUTO_INCREMENT,
  `date` date DEFAULT NULL,
  `reason` varchar(255) DEFAULT NULL,
  `student_id` varchar(40) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=33 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;